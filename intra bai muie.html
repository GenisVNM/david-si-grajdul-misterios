<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>David si Grajdul Misterios</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fdf6e3;
      padding: 20px;
      margin: 0;
      display: flex;
      justify-content: center; /* Centrează pe orizontală */
      align-items: center; /* Centrează pe verticală */
      height: 100vh; /* Asigură că ocupă întreaga înălțime a paginii */
      text-align: center; /* Centrează textul */
      flex-direction: column; /* Permite să fie centrat și textul cu butoane */
    }
    h1 {
      margin-bottom: 20px; /* Adaugă puțin spațiu sub titlu */
    }
    .step {
      display: none;
      margin-bottom: 20px;
      max-width: 600px; /* Limitează lățimea conținutului */
      width: 100%; /* Asigură că nu iese din pagină */
    }
    .step.active {
      display: block;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    input {
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      width: 80%;
      max-width: 300px;
    }
    img {
      display: block;
      margin: 20px auto;
      max-width: 100%; /* Asigură că imaginea nu depășește dimensiunea containerului */
    }
  </style>
</head>
<body>

<img src="aksjdkasdasd.png" alt="davidel" style="max-width: 10%; height: auto;">

  <h1>David si Grajdul Misterios</h1>

  <div id="step0" class="step active">
    <p>David, un băiețel neastâmpărat, află că mamaia lui a fost încuiată în grajd. Aceasta avea să îi dea 5 milioane ca să își cumpere motor. Ca să o salveze, trebuie să treacă printr-o serie de încercări și să afle codul care descuie lacătul. Dar nimic nu e simplu... în spatele acestui grajd se ascunde mai mult decât pare la prima vedere.</p>
    <button onclick="startGame()">Incepe aventura!</button>
  </div>

  <div id="step1" class="step">
    <p><strong>Ghicitoare:</strong> Bunicul a ieșit la plimbare când a început să plouă. Nu avea umbrelă și nu purta pălărie. Hainele sale erau ude, cu toate acestea nu i s-a udat niciun fir de păr de pe cap. Cum se poate așa ceva?</p>
    <input id="riddle1" type="text" placeholder="Raspuns...">
    <button onclick="checkAnswer('riddle1','e chel bai boule', 2)">Verifica</button>
  </div>

  <div id="step2" class="step">
    <p><strong>Imagine interactivă:</strong> Click pe obiectul corect pentru a continua:</p>
    <p>(Hint: Click pe bou)</p>
<!-- Image Map Generated by https://www.fla-shop.com/image-map/ -->
<svg style="width:100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1920 1440">
<style>
.image-mapper-shape {
    fill: rgba(0, 0, 0, 0);
}
g:hover .image-mapper-shape {
    stroke: white;
    stroke-width: 2px;
    opacity: 20%;
}
</style>
        
<image xlink:href="asfdsfsdf.png" style="width: 1920px;"></image>
<a href="#" onclick="nextStep(3); return false;"> <!-- Folosim onclick pentru a preveni navigarea -->
<g>
<rect x="503.24786324786334" y="731.1680911680912" width="61.99430199430191" height="67.46438746438741" class="image-mapper-shape selected" data-index="1"></rect>
</g>
</a>
  </div>

  <div id="step3" class="step">
    <p><strong>Cod Caesar:</strong> Mesajul este: <em>QY SEQYUBU TKBSY</em>. Cu un shift de 10, ce zice?</p>
    <a href="https://lingojam.com/CaesarCipher" target="_blank">(Hint: Intra aici ca esti prastie)</a>
    <input id="caesar1" type="text" placeholder="Raspuns...">
    <button onclick="checkAnswer('caesar1','AI COAIELE DULCI', 4)">Verifica</button>
  </div>

  <div id="step4" class="step">
    <p><strong>Ghicitoare ciudată:</strong> Ce este surd, prost și orb în același timp?</p>
    <input id="riddle2" type="text" placeholder="Raspuns...">
    <button onclick="checkAnswer('riddle2','Florin', 5)">Verifica</button>
  </div>

  <div id="step5" class="step">
    <p><strong>Cod Caesar final:</strong> Mesajul este: <em>IQEA IWIWEW J-WNA 5 IEHEKWJA</em>. Shift 4. Ce e?</p>
    <input id="caesar2" type="text" placeholder="Raspuns...">
    <button onclick="checkAnswer('caesar2','MUIE MAMAIA N-ARE 5 MILIOANE', 6)">Verifica</button>
  </div>

  <div id="step6" class="step">
    <h2>Felicitări!</h2>
    <p>Ai reușit să o salvezi pe mamaia din grajd! Un singur aspect doar... ți-a dat la muie</p>
    <p><strong>Codul tău este:</strong></p>
    <pre style="font-size: 20px;">ROCH4-CCWZV-5G5BJ</pre>
  </div>

  <audio id="pwlame" loop>
    <source src="pwlame.mp3" type="audio/mpeg">
    Browserul tău nu suportă audio
  </audio>

  <script>
    let currentStep = 0;

    function startGame() {
      document.getElementById('pwlame').play(); // pornim muzica la click
      nextStep(); // trecem la pasul 1
    }

    function nextStep(stepOverride = null) {
      document.getElementById(`step${currentStep}`).classList.remove('active');
      currentStep = stepOverride !== null ? stepOverride : currentStep + 1;
      document.getElementById(`step${currentStep}`).classList.add('active');
    }

    function checkAnswer(inputId, correctAnswer, nextStepNumber) {
      const userAnswer = document.getElementById(inputId).value.trim().toLowerCase();
      if (userAnswer === correctAnswer.toLowerCase()) {
        nextStep(nextStepNumber);
      } else {
        alert('Răspuns greșit! Încearcă din nou.');
      }
    }
  </script>

</body>
</html>
